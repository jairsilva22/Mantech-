@using Microsoft.AspNetCore.Localization
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@{
    var requestCulture = Context.Features.Get<IRequestCultureFeature>();
    var returnUrl = string.IsNullOrEmpty(Context.Request.Path) ? "/" : Context.Request.Path.ToString();
}

<div class="language-switcher">



    <form method="post" asp-controller="Home" asp-action="CambiarIdioma" class="language-selector">
        <input type="hidden" name="returnUrl" value="@Context.Request.Path@Context.Request.QueryString" />
        <div class="dropdown">
            <button class="btn btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                🌐
            </button>
            <ul class="dropdown-menu dropdown-menu">
                <li>
                    <button type="submit" name="culture" value="es" class="dropdown-item d-flex align-items-center">
                        <img src="/img/flags/mx.svg" alt="Español" style="width: 20px; height: 14px; margin-right: 8px;">
                        Español
                    </button>
                </li>
                <li>
                    <button type="submit" name="culture" value="en" class="dropdown-item d-flex align-items-center">
                        <img src="/img/flags/us.svg" alt="English" style="width: 20px; height: 14px; margin-right: 8px;">
                        English
                    </button>
                </li>
            </ul>
        </div>
    </form>




</div>
